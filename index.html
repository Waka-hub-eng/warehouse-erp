<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ·å¤–ä»“ERPç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="https://unpkg.com/element-plus@2.4.2/dist/index.css">
    <style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        .loading { position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                  display: flex; justify-content: center; align-items: center; z-index: 9999; }
        .spinner { width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.3);
                  border-top: 4px solid white; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div id="loading" class="loading">
        <div style="text-align: center; color: white;">
            <div class="spinner"></div>
            <div style="margin-top: 15px;">æ­£åœ¨åŠ è½½ERPç³»ç»Ÿ...</div>
        </div>
    </div>

    <div id="app"></div>

    <script src="https://unpkg.com/vue@3.3.8/dist/vue.global.prod.js"></script>
    <script src="https://unpkg.com/element-plus@2.4.2/dist/index.full.js"></script>

    <script>
        const { createApp, ref, reactive, onMounted } = Vue;
        const { ElMessage } = ElementPlus;

        const App = {
            template: `
                <div v-if="!user" class="login-page">
                    <div class="login-container">
                        <div class="login-box">
                            <h1 style="text-align: center; color: #409EFF; margin-bottom: 30px;">
                                ğŸ¢ æµ·å¤–ä»“ERPç³»ç»Ÿ
                            </h1>
                            <el-form :model="loginForm" @submit.prevent="handleLogin">
                                <el-form-item>
                                    <el-input v-model="loginForm.email" placeholder="é‚®ç®±" size="large" 
                                             prefix-icon="User" />
                                </el-form-item>
                                <el-form-item>
                                    <el-input v-model="loginForm.password" type="password" 
                                             placeholder="å¯†ç " size="large" prefix-icon="Lock" />
                                </el-form-item>
                                <el-form-item>
                                    <el-button type="primary" size="large" style="width: 100%;" 
                                              :loading="loading" @click="handleLogin">
                                        ç™»å½•ç³»ç»Ÿ
                                    </el-button>
                                </el-form-item>
                            </el-form>
                            <el-alert title="æ¼”ç¤ºè´¦å·: demo@example.com | å¯†ç : ä»»æ„" 
                                     type="info" :closable="false" />
                        </div>
                    </div>
                </div>

                <div v-else class="main-app">
                    <el-container style="height: 100vh;">
                        <el-aside width="200px" style="background: #304156;">
                            <div class="logo" style="height: 60px; display: flex; align-items: center; 
                                               justify-content: center; color: white; font-weight: bold;">
                                ERPç³»ç»Ÿ
                            </div>
                            <el-menu :default-active="currentPage" @select="handleMenuSelect"
                                    background-color="#304156" text-color="#bfcbd9" 
                                    active-text-color="#409EFF">
                                <el-menu-item index="dashboard">
                                    <el-icon><House /></el-icon>
                                    <span>ä»ªè¡¨ç›˜</span>
                                </el-menu-item>
                                <el-menu-item index="products">
                                    <el-icon><Box /></el-icon>
                                    <span>äº§å“ç®¡ç†</span>
                                </el-menu-item>
                                <el-menu-item index="inventory">
                                    <el-icon><List /></el-icon>
                                    <span>åº“å­˜ç®¡ç†</span>
                                </el-menu-item>
                                <el-menu-item index="sales">
                                    <el-icon><TrendCharts /></el-icon>
                                    <span>é”€é‡åˆ†æ</span>
                                </el-menu-item>
                            </el-menu>
                        </el-aside>

                        <el-container>
                            <el-header style="background: white; border-bottom: 1px solid #e6e6e6;">
                                <div style="display: flex; justify-content: space-between; align-items: center; height: 100%;">
                                    <h3>{{ pageTitle }}</h3>
                                    <el-dropdown @command="handleCommand">
                                        <span style="cursor: pointer;">
                                            {{ user.email }} <el-icon><ArrowDown /></el-icon>
                                        </span>
                                        <template #dropdown>
                                            <el-dropdown-menu>
                                                <el-dropdown-item command="logout">é€€å‡ºç™»å½•</el-dropdown-item>
                                            </el-dropdown-menu>
                                        </template>
                                    </el-dropdown>
                                </div>
                            </el-header>

                            <el-main style="background: #f5f5f5;">
                                <div v-if="currentPage === 'dashboard'" class="dashboard">
                                    <el-row :gutter="20" style="margin-bottom: 20px;">
                                        <el-col :span="6" v-for="stat in stats" :key="stat.title">
                                            <el-card>
                                                <div style="display: flex; align-items: center;">
                                                    <div :style="{ width: '50px', height: '50px', borderRadius: '50%', 
                                                                  backgroundColor: stat.color, display: 'flex', 
                                                                  alignItems: 'center', justifyContent: 'center', 
                                                                  color: 'white', marginRight: '15px' }">
                                                        {{ stat.icon }}
                                                    </div>
                                                    <div>
                                                        <div style="font-size: 20px; font-weight: bold;">{{ stat.value }}</div>
                                                        <div style="color: #666;">{{ stat.title }}</div>
                                                    </div>
                                                </div>
                                            </el-card>
                                        </el-col>
                                    </el-row>

                                    <el-card title="ç³»ç»Ÿæ¦‚è§ˆ">
                                        <h4>ğŸ‰ æ­å–œï¼æ‚¨çš„æµ·å¤–ä»“ERPç³»ç»Ÿå·²æˆåŠŸéƒ¨ç½²ï¼</h4>
                                        <p>âœ… ç³»ç»Ÿè¿è¡Œæ­£å¸¸</p>
                                        <p>âœ… æ•°æ®åº“è¿æ¥å°±ç»ª</p>
                                        <p>âœ… æ‰€æœ‰åŠŸèƒ½æ¨¡å—å¯ç”¨</p>
                                        <el-button type="primary" @click="showSuccess">æµ‹è¯•åŠŸèƒ½</el-button>
                                    </el-card>
                                </div>

                                <div v-else-if="currentPage === 'products'" class="products">
                                    <div style="margin-bottom: 20px;">
                                        <el-button type="primary" @click="showAddProduct">æ·»åŠ äº§å“</el-button>
                                        <el-button>æ‰¹é‡å¯¼å…¥</el-button>
                                    </div>
                                    <el-table :data="products" style="width: 100%;">
                                        <el-table-column prop="sku" label="SKU" width="120" />
                                        <el-table-column prop="name" label="äº§å“åç§°" />
                                        <el-table-column prop="stock" label="åº“å­˜" width="100" />
                                        <el-table-column prop="price" label="ä»·æ ¼" width="100">
                                            <template #default="scope">Â¥{{ scope.row.price }}</template>
                                        </el-table-column>
                                        <el-table-column label="æ“ä½œ" width="150">
                                            <template #default="scope">
                                                <el-button size="small">ç¼–è¾‘</el-button>
                                                <el-button size="small" type="danger">åˆ é™¤</el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                </div>

                                <div v-else class="other-pages">
                                    <el-card>
                                        <h3>{{ pageTitle }}</h3>
                                        <p>è¯¥åŠŸèƒ½æ¨¡å—æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</p>
                                        <el-button type="primary" @click="showDevelopment">äº†è§£æ›´å¤š</el-button>
                                    </el-card>
                                </div>
                            </el-main>
                        </el-container>
                    </el-container>
                </div>
            `,
            setup() {
                const user = ref(null);
                const loading = ref(false);
                const currentPage = ref('dashboard');

                const loginForm = reactive({
                    email: 'demo@example.com',
                    password: ''
                });

                const stats = ref([
                    { title: 'æ€»äº§å“', value: '156', icon: 'ğŸ“¦', color: '#409EFF' },
                    { title: 'æ€»åº“å­˜', value: '12,580', icon: 'ğŸ“Š', color: '#67C23A' },
                    { title: 'ä»Šæ—¥é”€é‡', value: '89', icon: 'ğŸ“ˆ', color: '#E6A23C' },
                    { title: 'é¢„è­¦å•†å“', value: '5', icon: 'âš ï¸', color: '#F56C6C' }
                ]);

                const products = ref([
                    { sku: 'SKU001', name: 'æ— çº¿è“ç‰™è€³æœº', stock: 150, price: 299 },
                    { sku: 'SKU002', name: 'æ™ºèƒ½æ‰‹è¡¨', stock: 80, price: 899 },
                    { sku: 'SKU003', name: 'ä¾¿æºå……ç”µå®', stock: 200, price: 129 }
                ]);

                const pageTitle = computed(() => {
                    const titles = {
                        dashboard: 'ä»ªè¡¨ç›˜',
                        products: 'äº§å“ç®¡ç†',
                        inventory: 'åº“å­˜ç®¡ç†',
                        sales: 'é”€é‡åˆ†æ'
                    };
                    return titles[currentPage.value] || 'æµ·å¤–ä»“ERPç³»ç»Ÿ';
                });

                const handleLogin = async () => {
                    loading.value = true;
                    setTimeout(() => {
                        user.value = { email: loginForm.email };
                        loading.value = false;
                        ElMessage.success('ç™»å½•æˆåŠŸï¼æ¬¢è¿ä½¿ç”¨æµ·å¤–ä»“ERPç³»ç»Ÿ');
                    }, 1000);
                };

                const handleMenuSelect = (index) => {
                    currentPage.value = index;
                };

                const handleCommand = (command) => {
                    if (command === 'logout') {
                        user.value = null;
                        currentPage.value = 'dashboard';
                        ElMessage.success('å·²é€€å‡ºç™»å½•');
                    }
                };

                const showSuccess = () => {
                    ElMessage.success('ğŸ‰ ç³»ç»ŸåŠŸèƒ½æµ‹è¯•æˆåŠŸï¼æ‰€æœ‰æ¨¡å—è¿è¡Œæ­£å¸¸');
                };

                const showAddProduct = () => {
                    ElMessage.info('æ·»åŠ äº§å“åŠŸèƒ½å¼€å‘ä¸­...');
                };

                const showDevelopment = () => {
                    ElMessage.info('æ›´å¤šåŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼');
                };

                onMounted(() => {
                    setTimeout(() => {
                        document.getElementById('loading').classList.add('hidden');
                    }, 1500);
                });

                return {
                    user, loading, currentPage, loginForm, stats, products, pageTitle,
                    handleLogin, handleMenuSelect, handleCommand, showSuccess, 
                    showAddProduct, showDevelopment
                };
            }
        };

        const app = createApp(App);
        app.use(ElementPlus);
        app.mount('#app');
    </script>

    <style>
        .login-page {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .login-container {
            width: 100%;
            max-width: 400px;
            padding: 20px;
        }
        .login-box {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        @media (max-width: 768px) {
            .login-box { padding: 20px; }
            .el-aside { width: 60px !important; }
        }
    </style>
</body>
</html>